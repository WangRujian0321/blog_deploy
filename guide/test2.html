<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面试没答上的题目 3.28 | AXIA&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="简单VueExpress项目尝试">
    
    <link rel="preload" href="/blog/assets/css/0.styles.6be32d68.css" as="style"><link rel="preload" href="/blog/assets/js/app.94f5d3e8.js" as="script"><link rel="preload" href="/blog/assets/js/2.a6d430b0.js" as="script"><link rel="preload" href="/blog/assets/js/13.ea9ef8ac.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.bd2c2193.js"><link rel="prefetch" href="/blog/assets/js/11.96a9565c.js"><link rel="prefetch" href="/blog/assets/js/12.5f16913e.js"><link rel="prefetch" href="/blog/assets/js/14.96c18f5c.js"><link rel="prefetch" href="/blog/assets/js/3.5833a3b6.js"><link rel="prefetch" href="/blog/assets/js/4.78b6c4a9.js"><link rel="prefetch" href="/blog/assets/js/5.fc9687e6.js"><link rel="prefetch" href="/blog/assets/js/6.4b23a88a.js"><link rel="prefetch" href="/blog/assets/js/7.5fb92253.js"><link rel="prefetch" href="/blog/assets/js/8.fcea818e.js"><link rel="prefetch" href="/blog/assets/js/9.e49a7b94.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.6be32d68.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">AXIA's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/guide/" class="nav-link router-link-active">
  分栏
</a></div><div class="nav-item"><a href="/blog/acg/" class="nav-link">
  生活
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/guide/" class="nav-link router-link-active">
  分栏
</a></div><div class="nav-item"><a href="/blog/acg/" class="nav-link">
  生活
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/guide/" aria-current="page" class="sidebar-link">分类整理一下学习内容</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>面试没答上的题目</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/guide/test1.html" class="sidebar-link">面试没答上的题目 3.26</a></li><li><a href="/blog/guide/test2.html" aria-current="page" class="active sidebar-link">面试没答上的题目 3.28</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/guide/test2.html#js进行url解析" class="sidebar-link">JS进行URL解析</a></li></ul></li><li><a href="/blog/guide/test3.html" class="sidebar-link">面试没答上的题目 4.1</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>常见面经整理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>常见面试问题</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="面试没答上的题目-3-28"><a href="#面试没答上的题目-3-28" class="header-anchor">#</a> 面试没答上的题目 3.28</h1> <h2 id="js进行url解析"><a href="#js进行url解析" class="header-anchor">#</a> JS进行URL解析</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> string <span class="token operator">=</span> <span class="token string">&quot;https://www.baidu.com/s?wd=sdfasdfasdf&amp;rsv_spt=1&amp;rsv_iqid=0xfd6ff4bf0002ff30&amp;issp=1&amp;f=8&amp;rsv_bp=1&amp;rsv_idx=2&amp;ie=utf-8&amp;tn=baiduhome_pg&amp;rsv_enter=1&amp;rsv_dl=tb&amp;rsv_sug3=12&amp;rsv_sug1=2&amp;rsv_sug7=100&amp;rsv_sug2=0&amp;rsv_btype=i&amp;inputT=1523&amp;rsv_sug4=1758&amp;rsv_jmp=fail&quot;</span>

<span class="token keyword">function</span> <span class="token function">analyse</span><span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    obj<span class="token punctuation">[</span><span class="token string">'type'</span><span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> s_new <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">)</span>
    obj<span class="token punctuation">[</span><span class="token string">'host'</span><span class="token punctuation">]</span> <span class="token operator">=</span> s_new<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> s_new<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token string">'host'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        obj<span class="token punctuation">[</span><span class="token string">'port'</span><span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span><span class="token string">'host'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token string">'host'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        obj<span class="token punctuation">[</span><span class="token string">'host'</span><span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span><span class="token string">'host'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> obj<span class="token punctuation">[</span><span class="token string">'host'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token string">'type'</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'https'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            obj<span class="token punctuation">[</span><span class="token string">'port'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">443</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            obj<span class="token punctuation">[</span><span class="token string">'port'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    s_new <span class="token operator">=</span> s_new<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>s_new<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token punctuation">[</span><span class="token string">'source_method'</span><span class="token punctuation">]</span> <span class="token operator">=</span> s_new<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    s_new <span class="token operator">=</span> s_new<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> data_split <span class="token operator">=</span> s_new<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    data_item <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data_split<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> item <span class="token operator">=</span> data_split<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        data_item<span class="token punctuation">[</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    obj<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span> <span class="token operator">=</span> data_item<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


</code></pre></div><p>执行上下文</p> <p>简单来说，执行上下文是一种对JavaScript代码执行环境得抽象概念，也就是说，只要有JavaScript代码运行，那么它就一定是执行在执行上下文中。</p> <p>执行上下文的类型主要有两种：</p> <p>全局执行上下文：只有一个，浏览器中的全局对象就是window对象，this指向这个全局对象。</p> <p>函数执行上下文：存在无数个，只有函数被调用的时候才会被创建，每次调用函数都会创建一个新的执行上下文。</p> <p>可以有任意多个函数上下文，每次调用函数创建一个新的上下文会创建一个私有作用域，函数内部声明的任何变量都不会再当前函数作用域外部直接访问。</p> <p>函数生命周期</p> <p>创建上下文的生命周期包含三个阶段：创建阶段，执行阶段，回收阶段</p> <p>创建阶段做了三件事：</p> <p>确定this的值，this binding</p> <p>词法环境组件被创建</p> <p>变量环境被创建</p> <p>This Binding</p> <p>确定<code>this</code>的值我们前面讲到，<code>this</code>的值是在执行的时候才能确认，定义的时候不能确认</p> <p>词法环境</p> <p>词法环境有两个部分：</p> <p>全局环境：是一个没有外部环境的词法环境，其外部环境引用为null，有一个全局对象，this的值指向这个全局对象。</p> <p>函数环境：用户在函数中定义的变量被存储在环境记录中，包含了arguments对象，外部环境的引用可以是全局环境，也可以是包含内部函数的外部函数环境。</p> <p>变量环境</p> <p>变量环境也是一个词法环境，因此它具有上面定义的词法环境的所有属性</p> <p>在ES6中，词法环境和变量环境的区别在于前者用于存储函数声明和变量（let 跟 const）绑定，后者仅用于存储变量（var）绑定。</p> <p><code>let</code>和<code>const</code>定义的变量<code>a</code>和<code>b</code>在创建阶段没有被赋值，但<code>var</code>声明的变量从在创建阶段被赋值为<code>undefined</code></p> <p>这是因为，创建阶段，会在代码中扫描变量和函数声明，然后将函数声明存储在环境中</p> <p>但变量会被初始化为<code>undefined</code>(<code>var</code>声明的情况下)和保持<code>uninitialized</code>(未初始化状态)(使用<code>let</code>和<code>const</code>声明的情况下)</p> <p>这就是变量提升的实际原因。</p> <p>执行阶段</p> <p>在这个阶段执行变量赋值，代码执行，如果JavaScript引擎在源代码中生命的实际位置找不到变量的值，那么将为其分配undefined值。</p> <p>回收阶段</p> <p>执行上下文出栈，等待虚拟机回收执行上下文。</p> <p>执行栈</p> <p>执行栈也叫调用栈，具有LIFO（后进先出）结构，用户存储在代码执行期间所有的执行上下文，当JS引擎开始执行第一行js脚本代码时，他就会创建一个全局执行上下文然后将它压到执行栈中</p> <p>引擎会执行位于执行栈栈顶的执行上下文（一般是函数执行上下文）。当函数执行结束后，对应的执行上下文就会被弹出，然后控制流程到达执行栈的下一个执行上下文。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'Hello World!'</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Inside first function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">second</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Again inside first function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">second</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Inside second function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Inside Global Execution Context'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 简单分析一下流程：</span>

<span class="token comment">//创建全局上下文请压入执行栈</span>
<span class="token comment">//first函数被调用，创建函数执行上下文并压入栈</span>
<span class="token comment">//执行first函数过程遇到second函数，再创建一个函数执行上下文并压入栈</span>
<span class="token comment">//second函数执行完毕，对应的函数执行上下文被推出执行栈，执行下一个执行上下文first函数</span>
<span class="token comment">//first函数执行完毕，对应的函数执行上下文也被推出栈中，然后执行全局上下文</span>
<span class="token comment">//所有代码执行完毕，全局上下文也会被推出栈中，程序结束</span>
</code></pre></div><p>JavaScript静态方法与静态属性</p> <p>静态方法是使用static关键字修饰的方法，又叫做类方法，属于类，但并不属于对象，在实例化对象之前就可以使用类名.方法名调用静态方法。静态方法不能在对象上调用，只能在类中调用。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//静态属性与静态方法(ES6明确规定，Class内部只有静态方法，没有静态属性 )</span>
            
<span class="token comment">//1.不会被类实例所拥有的属性与方法,只是类自身拥有</span>
<span class="token comment">//2.只能通过类调用</span>
            
<span class="token comment">//通过static关键字声明一个静态方法</span>

<span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>
Test<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;test_name&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//静态成员函数只能通过类名调用，不能通过对象实例访问，但是，对象中的静态方法能够跟实例方法名字相同。</span>
<span class="token comment">//能够在函数外直接添加属性的方式为变量添加属性,以此来完成函数的解耦。</span>
</code></pre></div><p>模块化编程</p> <p>模块，是能够单独命名并独立完成一定功能的程序语句的集合（及程序代码和数据结构的集合体）</p> <p>两个基本特征：</p> <p>外部特征与内部特征</p> <p>外部特征是指模块跟外部环境联系的接口，（即其他模块或程序调用该模块的方式，包括有输入输出参数、引用的全局变量）和模块的功能。</p> <p>内部特征是指模块的内部环境具有的特点（即该模块的局部数据和程序代码）</p> <p>为什么需要模块化</p> <ul><li>代码抽象</li> <li>代码封装</li> <li>代码复用</li> <li>依赖管理</li></ul> <p>如果没有模块化，我们代码会怎样？</p> <ul><li>变量和方法不容易维护，容易污染全局作用域</li> <li>加载资源的方式通过script标签从上到下。</li> <li>依赖的环境主观逻辑偏重，代码较多就会比较复杂。</li> <li>大型项目资源难以维护，特别是多人合作的情况下，资源的引入会让人奔溃</li></ul> <p>因此，需要一种将<code>JavaScript</code>程序模块化的机制，如</p> <ul><li>CommonJs (典型代表：node.js早期)</li> <li>AMD (典型代表：require.js)</li> <li>CMD (典型代表：sea.js)</li></ul> <p>ES6在语言标准的层面上实现了Module，即模块功能，完全可以取代CommonJS和AMD规范，成为浏览器和服务器通用的模块解决方案。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//ES6规定的新语法</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>stat<span class="token punctuation">,</span> exits<span class="token punctuation">,</span> readFile<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'fs'</span><span class="token punctuation">;</span>
<span class="token comment">// CommonJS模块</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> stat<span class="token punctuation">,</span> exists<span class="token punctuation">,</span> readfile <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token keyword">let</span> _fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> stat <span class="token operator">=</span> _fs<span class="token punctuation">.</span>stat<span class="token punctuation">;</span>
<span class="token keyword">let</span> exists <span class="token operator">=</span> _fs<span class="token punctuation">.</span>exists<span class="token punctuation">;</span>
<span class="token keyword">let</span> readfile <span class="token operator">=</span> _fs<span class="token punctuation">.</span>readfile<span class="token punctuation">;</span>
</code></pre></div><p>ES6模块内部采用了严格模式。</p> <p>模块功能主要由两个命令构成：</p> <p>export： 用于规定模块的对外接口。</p> <p>import：用于输入其他模块提供的功能。</p> <p>export</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// profile.js</span>
<span class="token keyword">export</span> <span class="token keyword">var</span> firstName <span class="token operator">=</span> <span class="token string">'Michael'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">var</span> lastName <span class="token operator">=</span> <span class="token string">'Jackson'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">var</span> year <span class="token operator">=</span> <span class="token number">1958</span><span class="token punctuation">;</span>

或 
<span class="token comment">// 建议使用下面写法，这样能瞬间确定输出了哪些变量</span>
<span class="token keyword">var</span> firstName <span class="token operator">=</span> <span class="token string">'Michael'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> lastName <span class="token operator">=</span> <span class="token string">'Jackson'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> year <span class="token operator">=</span> <span class="token number">1958</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> year <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 输出函数或者类</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">*</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 通过as可以进行输出变量的重命名</span>
<span class="token keyword">function</span> <span class="token function">v1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">v2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span>
  v1 <span class="token keyword">as</span> streamV1<span class="token punctuation">,</span>
  v2 <span class="token keyword">as</span> streamV2<span class="token punctuation">,</span>
  v2 <span class="token keyword">as</span> streamLatestVersion
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>import</p> <p>使用了export命令定义了模块的对外接口后，其他JS文件就可以通过import命令加载这个模块。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//main.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> year<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./profile.js'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  element<span class="token punctuation">.</span>textContent <span class="token operator">=</span> firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> lastName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 可以通过as给输入变量取别名</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>lastName <span class="token keyword">as</span> surname<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./profile.js'</span><span class="token punctuation">;</span>

<span class="token comment">//当加载整个模块的时候，需要使用星号</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> circle <span class="token keyword">from</span> <span class="token string">'./circle'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>circle<span class="token punctuation">)</span>   <span class="token comment">// {area:area,circumference:circumference}</span>

</code></pre></div><p>模块输出的变量都是只读的，不允许修改，但是如果是对象，允许修改属性。<code>import</code>后面我们常接着<code>from</code>关键字，<code>from</code>指定模块文件的位置，可以是相对路径，也可以是绝对路径。在编译阶段，import会提升到整个模块的头部，首先执行。</p> <p>多次重复执行同样的导入，只会执行一次。</p> <p>上面的情况，用户在导入模块的时候，需要知道加载的变量名和函数，否则就无法加载，如果不知道变量名或者函数就完成加载，则要用到<em>export default</em>命令，为模块指定默认输出。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">import</span> customName <span class="token keyword">from</span> <span class="token string">'./XXX.js'</span><span class="token punctuation">;</span>
<span class="token function">customName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//'foo';</span>
</code></pre></div><p>动态加载：</p> <p>允许用户仅在需要时动态加载模块，而不必预先加载所有模块。这存在明显的性能优势，这个功能，允许使用import()作为函数调用，并且返回一个promise对象。在promise对象的then中，可以访问该模块的内容。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'/modules/myModule.mjs'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">//Do something with the module;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>复合写法</p> <p>如果在一个模块中，先输入后输出同一个模块，import语法可以与export语句写在一起。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token punctuation">{</span>foo<span class="token punctuation">,</span> bar<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;my_module&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//基本等效于下面的</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>foo<span class="token punctuation">,</span> bar<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;my_module&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>foo<span class="token punctuation">,</span> bar<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Mac地址</p> <p>Mac地址用来定义网络设备的位置，由48比特长、12位的16进制数字组成，从左到右开始，1到24bit是厂商向IETF等机构申请用来标识IETF等机构申请用来标识厂商的代码，25-48比特位由厂商自行分配，是各个厂商制造的所有网卡的一个唯一编号。</p> <p>JS编程，同一个代码段中，对于函数，可以后定义先使用</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/guide/test1.html" class="prev">
        面试没答上的题目 3.26
      </a></span> <span class="next"><a href="/blog/guide/test3.html">
        面试没答上的题目 4.1
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.94f5d3e8.js" defer></script><script src="/blog/assets/js/2.a6d430b0.js" defer></script><script src="/blog/assets/js/13.ea9ef8ac.js" defer></script>
  </body>
</html>
